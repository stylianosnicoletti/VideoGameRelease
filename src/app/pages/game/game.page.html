<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="gameDetails != undefined">
      {{gameDetails.name}}
    </ion-title>
    <ion-title *ngIf="gameDetails == undefined">
      <ion-skeleton-text animated style="width: 200px; height: 24px"></ion-skeleton-text>
    </ion-title>
  </ion-toolbar>
</ion-header>

<div *ngIf="gameDetails == undefined; then showLoading else showGame">
  <!-- Normal screen -->

  <!-- Skeleton in here-->
</div>

<!-- Skeleton: showGame -->
<ng-template #showGame>

  <ion-content fullscreen>
    <ion-list>

      <ion-item-group *ngIf="gameDetails.summary != null">
        <ion-item-divider>
          <ion-label>
            &nbsp;&nbsp;&nbsp;Summary
          </ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-avatar *ngIf="gameDetails.cover?.url != null" slot="start">
            <ion-img src='{{ gameDetails.cover.url.replace("t_thumb", "t_cover_big") }}'>
            </ion-img>
          </ion-avatar>
          <p>
            {{gameDetails.summary}}
          </p>
          <p></p>
        </ion-item>
      </ion-item-group>

      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-item-group *ngIf="gameDetails.genres != null">
              <ion-item-divider>
                <ion-label>
                  &nbsp;&nbsp;&nbsp;Genres
                </ion-label>
              </ion-item-divider>
              <ion-item>
                <ion-grid>
                  <ion-row *ngFor="let genre of gameDetails.genres">
                    <ion-col size="12" size-sm="3">
                      <ion-badge class="ion-badge-genre">{{ genre.name }}</ion-badge>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
          </ion-col>
          <ion-col>
            <ion-item-group *ngIf="gameDetails.platforms != null">
              <ion-item-divider>
                <ion-label>
                  &nbsp;&nbsp;&nbsp;Platforms
                </ion-label>
              </ion-item-divider>
              <ion-item>
                <ion-grid>
                  <ion-row *ngFor="let platform of gameDetails.platforms">
                    <ion-col size="12" size-sm="3">
                      <ion-badge color="success">{{ platform.name }}</ion-badge>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-item-group *ngIf="gameDetails.websites != null">
        <ion-item-divider>
          <ion-label>
            &nbsp;&nbsp;&nbsp;Websites
          </ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-grid>
            <ion-row *ngFor="let website of gameDetails.websites">
              <ion-col size="12" size-sm="3">
                <ion-button fill="outline" (click)="goToLink(website.url)">{{
                  website.url.replace('http://','').replace('https://','').replace('www.','').replace('.com','').split('/')[0]
                  }}
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-item-group>

    </ion-list>
  </ion-content>

</ng-template>

<!-- Skeleton showLoading -->
<ng-template #showLoading>

  <ion-content fullscreen>
    <ion-list>

      <ion-item-group>
        <ion-item-divider>
          <ion-label>
            <ion-skeleton-text animated style="width: 70px; height: 14px"></ion-skeleton-text>
          </ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-avatar slot="start">
            <ion-skeleton-text animated style="width: 100%; height: 100%"></ion-skeleton-text>
          </ion-avatar>
          <p>
            <ion-skeleton-text animated style="width: 180px; height: 15px"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 180px; height: 15px"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 180px; height: 15px"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 180px; height: 15px"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 180px; height: 15px"></ion-skeleton-text>
            <ion-skeleton-text animated style="width: 100px; height: 15px"></ion-skeleton-text>
          </p>
        </ion-item>
      </ion-item-group>

      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-item-group>
              <ion-item-divider>
                <ion-label>
                  <ion-skeleton-text animated style="width: 70px; height: 14px"></ion-skeleton-text>
                </ion-label>
              </ion-item-divider>
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col>    
                      <ion-skeleton-text animated style="width: 120px; height: 20px"></ion-skeleton-text>
                      <ion-skeleton-text animated style="width: 120px; height: 20px"></ion-skeleton-text>
                      <ion-skeleton-text animated style="width: 120px; height: 20px"></ion-skeleton-text>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
          </ion-col>
          <ion-col>
            <ion-item-group>
              <ion-item-divider>
                <ion-label>
                  <ion-skeleton-text animated style="width: 70px; height: 14px"></ion-skeleton-text>
                </ion-label>
              </ion-item-divider>
              <ion-item>
                <ion-grid>
                  <ion-row>
                    <ion-col>    
                      <ion-skeleton-text animated style="width: 130px; height: 20px"></ion-skeleton-text>
                      <ion-skeleton-text animated style="width: 130px; height: 20px"></ion-skeleton-text>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-item>
            </ion-item-group>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-item-group>
        <ion-item-divider>
          <ion-label>
            <ion-skeleton-text animated style="width: 70px; height: 14px"></ion-skeleton-text>
          </ion-label>
        </ion-item-divider>
        <ion-item>
          <ion-grid>
            <ion-row>
              <ion-col>    
                <ion-skeleton-text animated style="width: 200px; height: 20px"></ion-skeleton-text>
                <ion-skeleton-text animated style="width: 200px; height: 20px"></ion-skeleton-text>
                <ion-skeleton-text animated style="width: 200px; height: 20px"></ion-skeleton-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        </ion-item-group>

    </ion-list>
  </ion-content>
</ng-template>